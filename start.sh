#!/bin/bash

echo "­Ъџђ сЃфсѓбсЃФсѓ┐сѓцсЃаТќЄтГЌУхисЂЊсЂЌсѓбсЃЌсЃфсѓњУхитІЋсЂЎсѓІсЃісЃф№╝Ђ"

# сЃљсЃЃсѓ»сѓесЃ│сЃЅсЂесЃЋсЃГсЃ│сЃѕсѓесЃ│сЃЅсѓњСИдУАїУхитІЋ
echo "­ЪћЦ сЃљсЃЃсѓ»сѓесЃ│сЃЅсЂесЃЋсЃГсЃ│сЃѕсѓесЃ│сЃЅсѓњУхитІЋСИГ..."

# сЃљсЃЃсѓ»сѓесЃ│сЃЅУхитІЋ
cd backend
source venv/bin/activate
python main.py &
BACKEND_PID=$!

# сЃЋсЃГсЃ│сЃѕсѓесЃ│сЃЅУхитІЋ
cd ../frontend
npm start &
FRONTEND_PID=$!

echo "РюЁ сѓбсЃЌсЃфсЂїУхитІЋсЂЌсЂЙсЂЌсЂЪ№╝Ђ"
echo "­ЪЊ▒ сЃљсЃЃсѓ»сѓесЃ│сЃЅ: http://localhost:4321"
echo "­Ъїљ сЃЋсЃГсЃ│сЃѕсѓесЃ│сЃЅ: http://localhost:3210"
echo ""
echo "тЂюТГбсЂЎсѓІсЂФсЂ» Ctrl+C сѓњТі╝сЂЌсЂдсЂЈсЂасЂЋсЂё"

# ухѓС║єсѓисѓ░сЃісЃФсѓњсѓГсЃБсЃЃсЃЂ
trap "echo '­ЪЏЉ сѓбсЃЌсЃфсѓњтЂюТГбСИГ...'; kill $BACKEND_PID $FRONTEND_PID; exit" INT

# тЙЁТЕЪ
wait
